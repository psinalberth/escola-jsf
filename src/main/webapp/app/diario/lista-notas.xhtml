<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:adm="http://github.com/adminfaces"
                template="/composition/template.xhtml">
  <ui:define name="title">Lançar Notas</ui:define>
  <ui:define name="body">
     <f:metadata>
  	  <f:viewParam name="id" value="#{listarNotasDiarioBean.id}" converter="javax.faces.Integer"></f:viewParam>
  	  <f:event listener="#{listarNotasDiarioBean.init()}" type="preRenderView"></f:event>
  	</f:metadata>
  	<h:form id="form">
  	  <div class="box box-primary">
  	  	<div class="box-header with-border">
  	  	  <div class="ui-fluid">
  	  	    <p:separator></p:separator>
  	  	    <div class="ui-g">
  	  	      <div class="ui-g-12 ui-md-6 ui-lg-4">
  	  	        <p:panelGrid columns="1" layout="grid">
  	  	        <p:outputLabel value="Professor"/>
  	  	        <h:outputText value="#{listarNotasDiarioBean.diario.professor.nome}" />
  	  	        </p:panelGrid>
  	  	      </div>
  	  	      <div class="ui-g-12 ui-md-6 ui-lg-4">
  	  	        <p:panelGrid columns="1" layout="grid">
  	  	        <p:outputLabel value="Turma"/>
  	  	        <h:outputText value="#{listarNotasDiarioBean.diario.turma.codigo}" />
  	  	        </p:panelGrid>
  	  	      </div>
  	  	      <div class="ui-g-12 ui-md-6 ui-lg-4">
  	  	        <p:panelGrid columns="1" layout="grid">
  	  	        <p:outputLabel value="Disciplina"/>
  	  	        <h:outputText value="#{listarNotasDiarioBean.diario.disciplina.descricao}" />
  	  	        </p:panelGrid>
  	  	      </div>
  	  	    </div>
  	  	    
  	  	    <p:separator></p:separator>
  	  	    
  	  	    <p:dataTable value="#{listarNotasDiarioBean.diario.notasDiario}" var="notaDiario" reflow="true"
  	  	                 emptyMessage="Nenhum registro encontrado para os critérios selecionados."
  	  	                 rowKey="#{notaDiario.id}" id="table">
  	  	      
  	  	      <p:column headerText="Aluno" filterBy="#{notaDiario.aluno.nome}" sortBy="#{notaDiario.aluno.nome}"
  	  	                filterMatchMode="contains">
	  	        <h:outputLabel value="#{notaDiario.aluno.nome}" rendered="#{not notaDiario.editavel}"/>
	  	        <p:selectOneMenu id="aluno" value="#{notaDiario.aluno}" converter="alunoConverter" rendered="#{notaDiario.editavel}">
                  <f:selectItems value="#{listarNotasDiarioBean.alunos}" var="aluno" itemLabel="#{aluno.nome}" itemValue="#{aluno}"/>
                </p:selectOneMenu>
                <p:message for="aluno" />    
  	  	      </p:column>
  	  	      
  	  	      <p:column headerText="1ª Nota" filterBy="#{notaDiario.nota1}" sortBy="#{notaDiario.nota1}"
  	  	                filterMatchMode="exact">
  	  	        <h:outputLabel value="#{notaDiario.nota1}" rendered="#{not notaDiario.editavel}"/>
  	  	        <p:inputNumber value="#{notaDiario.nota1}" decimalSeparator="." rendered="#{notaDiario.editavel}"></p:inputNumber>
  	  	      </p:column>
  	  	      
  	  	      <p:column headerText="2ª Nota" filterBy="#{notaDiario.nota2}" sortBy="#{notaDiario.nota2}"
  	  	                filterMatchMode="exact">
  	  	        <h:outputLabel value="#{notaDiario.nota2}" rendered="#{not notaDiario.editavel}"/>
  	  	        <p:inputNumber value="#{notaDiario.nota2}" decimalSeparator="." rendered="#{notaDiario.editavel}"></p:inputNumber>
  	  	      </p:column>
  	  	      
  	  	      <p:column headerText="3ª Nota" filterBy="#{notaDiario.nota3}" sortBy="#{notaDiario.nota3}"
  	  	                filterMatchMode="exact">
  	  	        <h:outputLabel value="#{notaDiario.nota3}" rendered="#{not notaDiario.editavel}"/>
  	  	        <p:inputNumber value="#{notaDiario.nota3}" decimalSeparator="." rendered="#{notaDiario.editavel}"></p:inputNumber>        
  	  	      </p:column>
  	  	      
  	  	    </p:dataTable>
  	  	  </div>
  	  	</div>
  	  </div>
  	</h:form>
  </ui:define>
</ui:composition>